<html><head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0" name="viewport">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="css/font-awesome.css">
</head>
<body>
<div class="a8-room-detials the-room">
    <div class="bars-top-bars center-vertical-2">
        <div class="">
            <a href="h82-scences-new.html">
                <div class="icon-top-bar-left"><img src="img/Topbar/Back.png" height="24" width="24"/>
                </div>
            </a>
            <div class="title">Thiết bị mới</div>
            <a href="h82-scences-new.html">
                <div class="icon-top-bar-right"><img src="img/Topbar/Checks.png" height="24" width="24"/>
                </div>
            </a>
        </div>
    </div>


    <div class="a8-room-addnew a8-room-details the-room-content h82-new-device">
        <div class="wrap-content wrap-content-add-room">
            <ul class="h82-new-device-ul-check">
                <div class="title-group-check">
                    <span>Group 1</span>
                </div>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group1-device1" class="" name="check"  />
                    <label for="group1-device1" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group1-device2" class="" name="check"  />
                    <label for="group1-device2" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group1-device3" class="" name="check"  />
                    <label for="group1-device3" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="div-line"></li>
            </ul>

            <ul class="h82-new-device-ul-check">
                <div class="title-group-check">
                    <span>Group 2</span>
                </div>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group2-device1" class="" name="check"  />
                    <label for="group2-device1" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group2-device2" class="" name="check"  />
                    <label for="group2-device2" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group2-device3" class="" name="check"  />
                    <label for="group2-device3" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="div-line"></li>
            </ul>

            <ul class="h82-new-device-ul-check">
                <div class="title-group-check">
                    <span>Group 3</span>
                </div>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group3-device1" class="" name="check"  />
                    <label for="group3-device1" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group3-device2" class="" name="check"  />
                    <label for="group3-device2" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                        <span></span>
                    </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group3-device3" class="check-radio" name="check"  />
                    <label for="group3-device3" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="li-device-check">
                    <input type="checkbox" value="None" id="group3-device4" class="check-radio" name="check"  />
                    <label for="group3-device4" class="lable-check">
                        <div class="div-img"><img src="img/Light/DenTha.png" height="40" width="40"/></div>
                        <div class="div-text">
                            <p class="font-bold">Đèn trần</p>
                        </div>
                        <div class="div-circle-check">
                            <span></span>
                        </div>
                        <div class="div-circle-uncheck"></div>
                    </label>
                    <div class="clear-both"></div>
                </li>
                <li class="div-line"></li>
            </ul>
        </div>
    </div>

</div>


</body>


<script>
    $(document).ready(function (e) {
        $('body').on('change','input[name="check"]', function () {
            var thischeck = $(this);
            var checkboxes =  $(this).closest('.wrap-content-add-room').find('input[name="check"]');
            var checkedboxes = checkboxes.filter(':checked');
            var uncheckedboxes = checkboxes.not(checkedboxes);
            var spa = checkedboxes.length;
            thischeck.closest('li').find('.div-circle-check span').text(spa);
            if (spa == 3){
                uncheckedboxes.prop('disabled', true);}
            else{
                uncheckedboxes.prop('disabled', false);}
            if(!$(this).is(':checked')){
                var eachChecked = $('input[name="check"]:checked');
                eachChecked.closest('li').find('.div-circle-check span').each(function () {
                    var aa= eachChecked.closest('li').find('.div-circle-check span').text();
                    if(!(aa == '21' || aa == '12')){
                        var countStr = $(this).text();
                        var count = parseInt(countStr);
                        if( count>1){
                            $(this).text(--count);
                        }
                    }
                });
            }
        });


    });
</script>
</html>